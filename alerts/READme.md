# Напишите систему алертов для нашего приложения

Система должна с периодичность каждые 15 минут проверять ключевые метрики, такие как активные пользователи в ленте / мессенджере, просмотры, лайки, CTR, количество отправленных сообщений. 

Изучите поведение метрик и подберите наиболее подходящий метод для детектирования аномалий. На практике как правило применяются статистические методы. 
В самом простом случае можно, например, проверять отклонение значения метрики в текущую 15-минутку от значения в такую же 15-минутку день назад. 

В случае обнаружения аномального значения, в чат должен отправиться алерт - сообщение со следующей информацией: метрика, ее значение, величина отклонения.
В сообщение можно добавить дополнительную информацию, которая поможет при исследовании причин возникновения аномалии, это может быть, например,  график, ссылки на дашборд/чарт в BI системе. 

**Пример шаблона алерта:**

```
Метрика {metric_name} в срезе {group}. 
Текущее значение {current_x}. Отклонение более {x}%.
[опционально: ссылка на риалтайм чарт этой метрики в BI для более гибкого просмотра]
[опционально: ссылка на риалтайм дашборд в BI для исследования ситуации в целом]
@[опционально: тегаем ответственного/наиболее заинтересованного человека в случае отклонения конкретно 
  этой метрики в этом срезе (если такой человек есть)]
   
[график]
```


Автоматизируйте отправку отчета с помощью Airflow. Код для сборки отчета разместите в GitLab.

Система должна проверять аномалии каждые 15 минут.

## Данные

**simulator.feed_actions** — таблица c действиями пользователей в ленте

- user_id - идентификатор пользователя
- post_id - идентификатор поста
- action - действие пользователя (like, view)
- time - время
- gender - пол
- age - возраст
- country - страна
- city - город
- os - операционная система
- source - источник (organic, ads)
- exp_group - номер експерементальной группы

**simulator.message_actions** — таблица c действиями пользователей в сообщениях

- user_id - идентификатор отправителя
- reciever_id - идентификатор получателя
- source - источник (organic, ads)
- exp_group - номер експерементальной группы
- gender - пол
- age - возраст
- country - страна
- city - город
- os - операционная система